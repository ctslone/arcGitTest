$(document).ready(function () {var options = {onlyPublicResource: true,serverSide: true,searching: false,autoWidth: false,sDom: "<'row'<'col-md-4 formportpublicfiles-new-file'><'col-md-4 formportpublicfiles-search-bar pull-right'>r>t<'row'<'col-md-3'i><'col-md-3'l><'col-md-6 pull-right'p>>",lengthMenu: [10, 20, 50],pageLength: rsb.pageRecordsCount.get(),language: {url : 'ui/datatables/lang/'+ 'english.js'},rowCallback: function (row, data) {var linkObj = $("<a></a>").attr("href", "form.rst?file=" + encodeURIComponent(data["filename"]) + "&messageid=" + encodeURIComponent(data["messageid"]) + "&status=" + (data["status"] == "Unsent" ? "Unsent" : "Submitted")).attr("target", "_blank").text(data["filename"]);$(row).children("td:eq(1)").empty().append(data["status"] == "Unsent" ? "Unsent" : "Submitted");$(row).children("td:eq(2)").empty().append(linkObj)},order: [[ 0, 'desc' ]],columns: [{data: "timecreated",render: rsb.formatTimestamp,width: "120px",className: "center hidden-xs"},{data: "status",width: "100px",className: "center hidden-xs"},{data: "filename",width: "100%"},{data: "filesize",render: rsb.connect.formatFileSize,width: "100px",className: "center hidden-xs"},],preAjax: function ($opt, $request) {$opt["requestData"] = $opt["requestData"] || {};if (typeof($request.length) != 'undefined') {$opt["requestData"]["$top"] = $request.length}
if (typeof($request.start) != 'undefined') {$opt["requestData"]["$skip"] = $request.start}
$opt["requestData"]["$orderby"] = "TimeCreated " + $request.order[0].dir + ", Filename"},"initComplete": function() {$(".formportpublicfiles-search-bar").html('<div class="input-group pull-right"><input type="text" class="form-control" placeholder="' + 'Search for...'+ '" onkeyup="$(\'#formportpublicfiles_table\').DataTable().ajax.reload()" style="min-width: 250px;"><span class="input-group-btn"><button class="btn btn-outline-secondary" type="button" onclick="$(\'#formportpublicfiles_table\').DataTable().ajax.reload()">&nbsp;<i class="fa fa-search fa-3"></i></button></span></div>');$(".formportpublicfiles-new-file").html('<div><a class="btn btn-outline-secondary" href="form.rst"><i class="fa fa-file-text-o"></i>&nbsp;' + 'New'+ '</a></div>')}};rsb.initTable($("#formportpublicfiles_table"), (rsb.formPortPublicFiles.linkbase || "") + "connector/" + rsb.formPortPublicFiles.portUri + "/files.rsd", $("#formportpublicfiles_resultcontainer"), options)});